<!DOCTYPE >
<html>
	<head>
		<title> Morse code typing </title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel = "stylesheet" type = "text/css" href = "style.css" />		
	</head>
	<body>
		<div id="clickArea">
			<p>Click me</p>
		</div>
		<div id="codesArea"></div>

		<script>
		var morse = {
		  "-----": "0",
		  ".----": "1",
		  "..---": "2",
		  "...--": "3",
		  "....-": "4",
		  ".....": "5",
		  "-....": "6",
		  "--...": "7",
		  "---..": "8",
		  "----.": "9",
		  ".-": "a",
		  "-...": "b",
		  "-.-.": "c",
		  "-..": "d",
		  ".": "e",
		  "..-.": "f",
		  "--.": "g",
		  "....": "h",
		  "..": "i",
		  ".---": "j",
		  "-.-": "k",
		  ".-..": "l",
		  "--": "m",
		  "-.": "n",
		  "---": "o",
		  ".--.": "p",
		  "--.-": "q",
		  ".-.": "r",
		  "...": "s",
		  "-": "t",
		  "..-": "u",
		  "...-": "v",
		  ".--": "w",
		  "-..-": "x",
		  "-.--": "y",
		  "--..": "z",
		  ".-.-.-": ".",
		  "--..--": ",",
		  "..--..": "?",
		  "-.-.--": "!",
		  "-....-": "-",
		  "-..-.": "/",
		  ".--.-.": "@",
		  "-.--.": "(",
		  "-.--.-": ")"
		}

		var codesArea = document.getElementById('codesArea');
		var clickArea = document.getElementById('clickArea');
		

		var shortClick = 100;
		var longClick = 500;
		var startTime = 0;
		var codes = '';

		function clickDown(){

			startTime = Date.now();

		}

		function clickUp(){
			var endTime = Date.now();
			var diffTime = endTime - startTime;


			if(diffTime <= shortClick){
				codes += '.';
				codesArea.innerHTML += '.';
			}
			else if(diffTime <= longClick){
				codes += '-';
				codesArea.innerHTML += '-';
			}
			else{
				
				if(morse[codes]){
					codesArea.innerHTML += morse[codes] + '<br/>'	
				}
				else{
					codesArea.innerHTML += '<br/>'
				}
				codes = '|';
			}
		}

		clickArea.onmousedown = clickDown; 
		clickArea.onmouseup = clickUp;

    	</script>
	</body>
</html>